var plugin=$.extend({},Craft.Redactor.PluginBase,{start:function(){},showModal:function(arguments){this.app.selection.isCollapsed()?(this.app.selection.save(),this.app.selectionMarkers=!1):(this.app.selection.saveMarkers(),this.app.selectionMarkers=!0);var e="selectionModal_"+arguments.refHandle;if(void 0===this[e]){var t=arguments.refHandle;this[e]=Craft.createElementSelectorModal(arguments.elementType,{storageKey:"RedactorInput.LinkTo."+arguments.elementType,sources:arguments.sources,criteria:arguments.criteria,defaultSiteId:this.elementSiteId,onSelect:$.proxy((function(e){if(e.length){this.app.selectionMarkers?this.app.selection.restoreMarkers():this.app.selection.restore(),this.app.selectionMarkers=!1;var i=e[0],s=this.app.selection.getText(),r={url:i.url+"#"+t+":"+i.id+"@"+i.siteId,text:s.length>0?s:i.label};this.app.api("module.link.insert",r)}}),this),closeOtherModals:!1})}else this[e].show()},setLinkOptions:function(e){var t=this.app.toolbar.getButton("link"),i=t.getDropdown().items,s={},r=0;for(var a in e)a=e[a],s["custom"+ ++r]={title:a.optionTitle,api:"plugin.craftEntryLinks.showModal",args:{elementType:a.elementType,refHandle:a.refHandle,sources:a.sources,criteria:a.criteria}};t.setDropdown($.extend(s,i))}});Redactor.add("plugin","craftEntryLinks",plugin);
//# sourceMappingURL=CraftEntryLinks.min.js.map
