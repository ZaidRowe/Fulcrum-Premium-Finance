var plugin=$.extend({},Craft.Redactor.PluginBase,{title:"image",apiTarget:"plugin.craftAssetImages.showModal",icon:'<i class="re-icon-image"></i>',transforms:[],volumes:null,allowAllUploaders:!1,showModal:function(){if(this.app.selection.isCollapsed()?(this.app.selection.save(),this.app.selectionMarkers=!1):(this.app.selection.saveMarkers(),this.app.selectionMarkers=!0),void 0===this.assetSelectionModal){var e={siteId:this.elementSiteId,kind:"image"};this.allowAllUploaders&&(e.uploaderId=null),this.assetSelectionModal=Craft.createElementSelectorModal("craft\\elements\\Asset",{storageKey:"RedactorInput.ChooseImage",multiSelect:!0,sources:this.volumes,criteria:e,onSelect:$.proxy((function(e,s){if(e.length){this.app.selectionMarkers?this.app.selection.restoreMarkers():this.app.selection.restore(),this.app.selectionMarkers=!1;for(var t={},a=0;a<e.length;a++){var i=e[a],l=i.url+"#asset:"+i.id;s&&(l+=":transform:"+s),t["asset"+i.id]={url:l,id:i.id}}this.app.api("module.image.insert",t)}}),this),closeOtherModals:!1,transforms:this.transforms})}else this.assetSelectionModal.show()},setTransforms:function(e){this.transforms=e},setVolumes:function(e){this.volumes=e}});Redactor.add("plugin","craftAssetImages",plugin);
//# sourceMappingURL=CraftAssetImages.min.js.map
